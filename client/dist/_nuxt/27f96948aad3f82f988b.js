(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{434:function(t,e,n){var content=n(658);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("042b76f8",content,!0,{sourceMap:!1})},656:function(t,e,n){var map={"./af":458,"./af.js":458,"./ar":459,"./ar-dz":460,"./ar-dz.js":460,"./ar-kw":461,"./ar-kw.js":461,"./ar-ly":462,"./ar-ly.js":462,"./ar-ma":463,"./ar-ma.js":463,"./ar-sa":464,"./ar-sa.js":464,"./ar-tn":465,"./ar-tn.js":465,"./ar.js":459,"./az":466,"./az.js":466,"./be":467,"./be.js":467,"./bg":468,"./bg.js":468,"./bm":469,"./bm.js":469,"./bn":470,"./bn.js":470,"./bo":471,"./bo.js":471,"./br":472,"./br.js":472,"./bs":473,"./bs.js":473,"./ca":474,"./ca.js":474,"./cs":475,"./cs.js":475,"./cv":476,"./cv.js":476,"./cy":477,"./cy.js":477,"./da":478,"./da.js":478,"./de":479,"./de-at":480,"./de-at.js":480,"./de-ch":481,"./de-ch.js":481,"./de.js":479,"./dv":482,"./dv.js":482,"./el":483,"./el.js":483,"./en-au":484,"./en-au.js":484,"./en-ca":485,"./en-ca.js":485,"./en-gb":486,"./en-gb.js":486,"./en-ie":487,"./en-ie.js":487,"./en-il":488,"./en-il.js":488,"./en-in":489,"./en-in.js":489,"./en-nz":490,"./en-nz.js":490,"./en-sg":491,"./en-sg.js":491,"./eo":492,"./eo.js":492,"./es":493,"./es-do":494,"./es-do.js":494,"./es-us":495,"./es-us.js":495,"./es.js":493,"./et":496,"./et.js":496,"./eu":497,"./eu.js":497,"./fa":498,"./fa.js":498,"./fi":499,"./fi.js":499,"./fil":500,"./fil.js":500,"./fo":501,"./fo.js":501,"./fr":502,"./fr-ca":503,"./fr-ca.js":503,"./fr-ch":504,"./fr-ch.js":504,"./fr.js":502,"./fy":505,"./fy.js":505,"./ga":506,"./ga.js":506,"./gd":507,"./gd.js":507,"./gl":508,"./gl.js":508,"./gom-deva":509,"./gom-deva.js":509,"./gom-latn":510,"./gom-latn.js":510,"./gu":511,"./gu.js":511,"./he":512,"./he.js":512,"./hi":513,"./hi.js":513,"./hr":514,"./hr.js":514,"./hu":515,"./hu.js":515,"./hy-am":516,"./hy-am.js":516,"./id":517,"./id.js":517,"./is":518,"./is.js":518,"./it":519,"./it-ch":520,"./it-ch.js":520,"./it.js":519,"./ja":521,"./ja.js":521,"./jv":522,"./jv.js":522,"./ka":523,"./ka.js":523,"./kk":524,"./kk.js":524,"./km":525,"./km.js":525,"./kn":526,"./kn.js":526,"./ko":527,"./ko.js":527,"./ku":528,"./ku.js":528,"./ky":529,"./ky.js":529,"./lb":530,"./lb.js":530,"./lo":531,"./lo.js":531,"./lt":532,"./lt.js":532,"./lv":533,"./lv.js":533,"./me":534,"./me.js":534,"./mi":535,"./mi.js":535,"./mk":536,"./mk.js":536,"./ml":537,"./ml.js":537,"./mn":538,"./mn.js":538,"./mr":539,"./mr.js":539,"./ms":540,"./ms-my":541,"./ms-my.js":541,"./ms.js":540,"./mt":542,"./mt.js":542,"./my":543,"./my.js":543,"./nb":544,"./nb.js":544,"./ne":545,"./ne.js":545,"./nl":546,"./nl-be":547,"./nl-be.js":547,"./nl.js":546,"./nn":548,"./nn.js":548,"./oc-lnc":549,"./oc-lnc.js":549,"./pa-in":550,"./pa-in.js":550,"./pl":551,"./pl.js":551,"./pt":552,"./pt-br":553,"./pt-br.js":553,"./pt.js":552,"./ro":554,"./ro.js":554,"./ru":555,"./ru.js":555,"./sd":556,"./sd.js":556,"./se":557,"./se.js":557,"./si":558,"./si.js":558,"./sk":559,"./sk.js":559,"./sl":560,"./sl.js":560,"./sq":561,"./sq.js":561,"./sr":562,"./sr-cyrl":563,"./sr-cyrl.js":563,"./sr.js":562,"./ss":564,"./ss.js":564,"./sv":565,"./sv.js":565,"./sw":566,"./sw.js":566,"./ta":567,"./ta.js":567,"./te":568,"./te.js":568,"./tet":569,"./tet.js":569,"./tg":570,"./tg.js":570,"./th":571,"./th.js":571,"./tl-ph":572,"./tl-ph.js":572,"./tlh":573,"./tlh.js":573,"./tr":574,"./tr.js":574,"./tzl":575,"./tzl.js":575,"./tzm":576,"./tzm-latn":577,"./tzm-latn.js":577,"./tzm.js":576,"./ug-cn":578,"./ug-cn.js":578,"./uk":579,"./uk.js":579,"./ur":580,"./ur.js":580,"./uz":581,"./uz-latn":582,"./uz-latn.js":582,"./uz.js":581,"./vi":583,"./vi.js":583,"./x-pseudo":584,"./x-pseudo.js":584,"./yo":585,"./yo.js":585,"./zh-cn":586,"./zh-cn.js":586,"./zh-hk":587,"./zh-hk.js":587,"./zh-mo":588,"./zh-mo.js":588,"./zh-tw":589,"./zh-tw.js":589};function r(t){var e=c(t);return n(e)}function c(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=c,t.exports=r,r.id=656},657:function(t,e,n){"use strict";var r=n(434);n.n(r).a},658:function(t,e,n){(e=n(12)(!1)).push([t.i,"p{margin:0!important;padding:0!important}",""]),t.exports=e},708:function(t,e,n){"use strict";n.r(e);var r=n(46),c=(n(7),n(5),n(39),n(38),n(14)),l=(n(21),n(22),n(592)),o=l.c.reactiveProp,v={components:{LineChart:{extends:l.a,mixins:[o],props:["chartdata","options"],mounted:function(){this.renderChart(this.chartData,this.options)}}},data:function(){return{datacollection:{},labels:[],options:{responsive:!0,maintainAspectRatio:!1}}},mounted:function(){for(var t=new Array("January","February","March","April","May","June","July","August","September","October","November","December"),e=new Date,n=e.getMonth(),r=e.getFullYear(),c=t[n],i=0;i<13;i++)c=t[n],this.labels.push("".concat(c," ").concat(r.toString().slice(2,4))),--n>11?n=0:n<0&&(n=11,r--);this.labels.reverse(),this.fillData()},methods:{fillData:function(){this.datacollection={labels:this.labels,datasets:[{label:"Incomes",backgroundColor:"#2196F3",data:[this.getRandomInt(),this.getRandomInt(),this.getRandomInt(),this.getRandomInt()]}]}},getRandomInt:function(){return Math.floor(46*Math.random())+5}}},d=n(56),h=Object(d.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"small"},[e("line-chart",{attrs:{options:this.options,"chart-data":this.datacollection}})],1)}),[],!1,null,null,null).exports,j=l.c.reactiveProp,m={components:{PieChart:{extends:l.b,mixins:[j],props:["chartdata","options"],mounted:function(){this.renderChart(this.chartData,this.options)}}},props:["chartData","chartColors","labels"],data:function(){return{datacollection:{},options:{responsive:!0,maintainAspectRatio:!1}}},mounted:function(){var t=this;this.$nextTick((function(){t.fillData()}))},methods:{fillData:function(){this.datacollection={labels:this.labels,datasets:[{data:this.chartData,backgroundColor:this.chartColors}]}}}},f={middleware:"auth",layout:"admin",components:{Chart:h,PieChart:Object(d.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"small"},[e("pie-chart",{attrs:{options:this.options,"chart-data":this.datacollection}})],1)}),[],!1,null,null,null).exports},data:function(){return{radios:"customers",customerChartDate:null,customerChartLables:null,ItemChartData:null,ItemChartLabels:null,cards:[],charts:[{title:{text:"Top 5 Items",url:"/articles",urlText:"View Items"},chartColors:["#2d2d3b","#ffccc7","#b66d60","#ecb278","#983e3e "],chartData:null,chartLabel:null},{title:{text:"Top 5 customers",url:"/customer",urlText:"View Customers"},chartColors:["#2d2d3b","#ffccc7","#b66d60","#ecb278","#983e3e "],chartData:null,chartLabel:null}]}},mounted:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=performance.now(),l=[t.$axios.$get("/customers"),t.$axios.$get("/invoices"),t.$axios.$get("/articlepatterns")],e.next=4,Promise.all(l).then(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(c){var l,o,v,d,i,h,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c[0],l=c[1],o=c[2],v=[],d=[],i=0;case 2:if(!(i<l.length)){e.next=10;break}return"undefined"!==(h=l[i]).customername&&v.push(h.customername),e.next=7,t.$axios.$get("articles/invoice/".concat(h.ocrid)).then((function(t){return d.push.apply(d,Object(r.a)(t))}));case 7:i++,e.next=2;break;case 10:t.invoicesCalculations(l),t.getMostRepeatedValue(v),t.getMostRepeatedItem(o,d),j=performance.now(),console.log("Mount takes: "+(j-n)+" milliseconds.");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})))()},methods:{getMostRepeatedValue:function(t){var e=t.sort(),n=null,r=0,c=[],l=[],o=[];e.forEach((function(t){0==c.length?(c.push({name:t,times:r}),l.push(t),o.push(r),n=t):n==t?o[o.length-1]++:c.length<5&&n!==t&&(r=1,n=t,c.push({name:t,times:r}),l.push(t),o.push(r))})),this.charts[1].chartData=o,this.charts[1].chartLabel=l},invoicesCalculations:function(t){var e=0,n=0,r=0,c=0,l=0,o=0;t.forEach((function(t){e+=t.total;var v=Math.round((new Date(t.duedate)-new Date(t.createdate))/864e5);v<0?n+=t.total:v>0&&v<=7?r+=t.total:v>7&&v<=14?c+=t.total:v>14&&v<=21?l+=t.total:v>21&&(o+=t.total)})),this.cards.unshift({title:{text:"Invoices owed to you",money:e},infos:[{label:"Overdue",money:n},{label:"Due today",money:"0"},{label:"1 -7 days",money:r},{label:"8-14 days",money:c},{label:"15-21 days",money:l},{label:"> 21 days",money:o}],actions:{btn:{text:"Create Invoice",url:"/newinvoice"},text:{text:"View all active invoices",url:"/invoices"}}})},getMostRepeatedItem:function(t,e){var data=[],n=[];t.forEach((function(pattern){e.forEach((function(article){if(pattern.artikelnamn==article.artikelnamn)if(0==data.length)data.push(1),n.push(pattern.artikelnamn);else{var i=n.indexOf(pattern.artikelnamn);-1!=i?data[i]++:data.length<5&&(n.push(pattern.artikelnamn),data.push(1))}}))})),this.charts[0].chartData=data,this.charts[0].chartLabel=n}}},_=(n(657),n(75)),x=n.n(_),y=n(170),C=n(158),k=n(65),w=n(420),z=n(382),D=n(372),I=n(98),V=n(163),R=n(421),T=n(53),M=n(707),O=n(388),L=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"mx-auto",attrs:{tile:"",outlined:""}},[n("v-card-title",[t._v("Income and expenses")]),t._v(" "),n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"5"}},[n("div",{staticClass:"text-center flex-grow-1"},[n("p",[t._v("Total income")]),t._v(" "),n("h3",[t._v("32 800 Kr")])])]),t._v(" "),n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-spacer"),t._v(" "),n("v-divider",{attrs:{vertical:""}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"text-center flex-grow-1"},[n("p",[t._v("Total expenses")]),t._v(" "),n("h3",[t._v("-")])])])],1)],1)],1)],1)],1),t._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"mx-auto",attrs:{tile:"",outlined:""}},[n("v-card-title",[n("h4",[t._v("Income and expenses")]),t._v(" "),n("v-spacer"),t._v(" "),n("div",{staticClass:"mx-2"},[n("v-list-item-avatar",{staticClass:"ma-0",attrs:{tile:"",size:"10",color:"blue"}}),t._v(" "),n("small",[t._v("Income")])],1)],1),t._v(" "),n("v-card-text",[n("Chart")],1)],1)],1)],1),t._v(" "),n("v-row",t._l(t.charts,(function(e,r){return n("v-col",{key:r,attrs:{md:"6"}},[e.chartData?n("v-card",[n("v-card-title",{staticClass:"justify-space-between d-flex"},[n("h4",[t._v(t._s(e.title.text))]),t._v(" "),n("v-spacer"),t._v(" "),n("small",[n("nuxt-link",{attrs:{to:e.title.url}},[t._v(t._s(e.title.urlText))])],1)],1),t._v(" "),n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("PieChart",{attrs:{chartColors:e.chartColors,chartData:e.chartData,labels:e.chartLabel}})],1)],1)],1)],1):n("v-sheet",{staticClass:"px-3 pt-3 pb-3",attrs:{color:"grey lighten-4"}},[n("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card"}})],1)],1)})),1),t._v(" "),n("v-row",t._l(t.cards,(function(e,r){return n("v-col",{key:r,attrs:{cols:"12",md:"6"}},[n("v-card",[n("v-card-title",{staticClass:"d-block text-center"},[n("h4",[t._v(t._s(e.title.text))]),t._v(" "),n("p",[t._v(t._s(e.title.money)+" Kr")])]),t._v(" "),n("v-card-text",t._l(e.infos,(function(e,r){return n("div",{key:r,staticClass:"pa-1"},[n("div",{staticClass:"my-1 d-flex"},[n("span",[t._v(t._s(e.label))]),t._v(" "),n("v-spacer"),t._v(" "),n("span",[t._v(t._s(e.money)+" Kr")])],1),t._v(" "),n("v-divider")],1)})),0),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"success",to:e.actions.btn.url}},[t._v(t._s(e.actions.btn.text))]),t._v(" "),n("v-spacer"),t._v(" "),n("nuxt-link",{attrs:{to:e.actions.text.text}},[t._v(t._s(e.actions.text.text))])],1)],1)],1)})),1),t._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"pa-5 d-flex align-center justify-space-between"},[n("p",[t._v("This year profit")]),t._v(" "),n("p",{staticClass:"green--text"},[t._v("0,00 Kr")])])],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-card",[n("v-card-title",{staticClass:"pa-5 d-flex align-center justify-space-between"},[n("p",[n("v-icon",[t._v("mdi mdi-bank")]),t._v("Account balances\n\t\t\t\t\t")],1),t._v(" "),n("p",{staticClass:"green--text"},[t._v("31 564.00 Kr")])]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("div",{staticClass:"py-2 d-flex align-center justify-space-between"},[n("p",[t._v("Someone")]),t._v(" "),n("p",{staticClass:"green--text"},[t._v("31 564.00 Kr")])])])],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-card",[n("v-card-title",{staticClass:"pa-5 d-flex align-center justify-space-between"},[n("p",[n("v-icon",[t._v("mdi mdi-currency-usd")]),t._v("This year texes\n\t\t\t\t\t")],1),t._v(" "),n("p",{staticClass:"red--text"},[t._v("0,00 Kr")])]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("div",{staticClass:"d-flex py-2 align-center justify-space-between"},[n("p",[t._v("profit")]),t._v(" "),n("p",{staticClass:"green--text"},[t._v("0.00 Kr")])]),t._v(" "),n("div",{staticClass:"d-flex py-2 align-center justify-space-between"},[n("p",[t._v("Textable result adjustment")]),t._v(" "),n("p",{staticClass:"green--text"},[t._v("0.00 Kr")])]),t._v(" "),n("div",{staticClass:"d-flex py-2 align-center justify-space-between"},[n("p",[t._v("Local tax rate")]),t._v(" "),n("p",{staticClass:"red--text"},[t._v("21.4 %")])])])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=L.exports;x()(L,{VBtn:y.a,VCard:C.a,VCardActions:k.a,VCardText:k.c,VCardTitle:k.d,VCol:w.a,VContainer:z.a,VDivider:D.a,VIcon:I.a,VListItemAvatar:V.a,VRow:R.a,VSheet:T.a,VSkeletonLoader:M.a,VSpacer:O.a})}}]);