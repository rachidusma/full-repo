(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{394:function(e,t,r){var content=r(395);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("b1bed018",content,!0,{sourceMap:!1})},395:function(e,t,r){(t=r(12)(!1)).push([e.i,".theme--light.v-breadcrumbs .v-breadcrumbs__divider,.theme--light.v-breadcrumbs .v-breadcrumbs__item--disabled{color:rgba(0,0,0,.38)}.theme--dark.v-breadcrumbs .v-breadcrumbs__divider,.theme--dark.v-breadcrumbs .v-breadcrumbs__item--disabled{color:hsla(0,0%,100%,.5)}.v-breadcrumbs{align-items:center;display:flex;flex-wrap:wrap;flex:0 1 auto;list-style-type:none;margin:0;padding:18px 12px}.v-breadcrumbs li{align-items:center;display:inline-flex;font-size:14px}.v-breadcrumbs li .v-icon{font-size:16px}.v-breadcrumbs li:nth-child(2n){padding:0 12px}.v-breadcrumbs__item{align-items:center;display:inline-flex;text-decoration:none;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-breadcrumbs__item--disabled{pointer-events:none}.v-breadcrumbs--large li,.v-breadcrumbs--large li .v-icon{font-size:16px}",""]),e.exports=t},400:function(e,t,r){"use strict";r(11),r(8),r(9);var n=r(2),o=(r(47),r(7),r(5),r(168),r(29),r(30),r(6)),c=r(49),l=r(76);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(o.a)(c.a,Object(l.b)("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var e=this,t=function(input){return input.$watch("hasError",(function(t){e.$set(e.errorBag,input._uid,t)}),{immediate:!0})},r={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?r.shouldValidate=input.$watch("shouldValidate",(function(n){n&&(e.errorBag.hasOwnProperty(input._uid)||(r.valid=t(input)))})):r.valid=t(input),r},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var e=this.inputs.find((function(i){return i._uid===input._uid}));if(e){var t=this.watchers.find((function(i){return i._uid===e._uid}));t&&(t.valid(),t.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==e._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:m({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},405:function(e,t,r){"use strict";r(11),r(8),r(7),r(5),r(9);var n=r(2),o=(r(394),r(50)),c=r(6);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=Object(c.a)(o.a).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(n.a)({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),r=t.tag,data=t.data;return e("li",[e(r,d({},data,{attrs:d({},data.attrs,{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),v=r(0),f=Object(v.i)("v-breadcrumbs__divider","li"),h=r(15);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}t.a=Object(c.a)(h.a).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(f,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,r=[],i=0;i<this.items.length;i++){var n=this.items[i];r.push(n.text),t?e.push(this.$scopedSlots.item({item:n})):e.push(this.$createElement(m,{key:r.join("."),props:n},[n.text])),i<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},407:function(e,t,r){var content=r(415);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("321575aa",content,!0,{sourceMap:!1})},414:function(e,t,r){"use strict";var n=r(407);r.n(n).a},415:function(e,t,r){(t=r(12)(!1)).push([e.i,"div.v-card div[class^=col][data-v-49989e3f]{padding-top:0;padding-bottom:0}.overline[data-v-49989e3f]{color:#336882;font-size:25px}",""]),e.exports=t},450:function(e,t,r){"use strict";r(38);var n=r(14),o={data:function(){return{dialog:!1,editItem:{},Vat:[0,6,12,25],Unit:["-","hours","pound","pieces","hours","days","months","kilograms","grams","liters","meters","centimeters","millimeters","m²","m³","miles","kms"],Kind:["Goods","services"],valid:!1,nameRules:[function(e){return!!e||"artikelnamn is required"}]}},mounted:function(){this.editItemId||(this.editItem={artikelnamn:null,produktkod:null,pris_enhet:0,enhet:"-",moms:0,typ:null})},props:["editItemId","editItemObject","edit"],watch:{editItemId:function(e){Object.assign(this.editItem,this.editItemObject)},edit:function(e){this.dialog=e}},methods:{validate:function(){this.$refs.form.validate()},close:function(){this.dialog=!1,this.editItem={},this.valid=!1,this.$emit("closed")},updateArticle:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$patch("/articlepatterns/".concat(e.editItem._id),e.editItem).then((function(t){e.modalUpadted()})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},saveArticle:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.editItem.artikelnamn){t.next=2;break}return t.abrupt("return",e.valid=!1);case 2:if(e.editItem.typ){t.next=4;break}return t.abrupt("return",e.valid=!1);case 4:return t.next=6,e.$axios.$post("/articlepatterns",e.editItem).then((function(t){e.modalUpadted()})).catch((function(e){console.log(e)}));case 6:case"end":return t.stop()}}),t)})))()},modalUpadted:function(){this.$emit("updated"),this.editItem={},this.$emit("closed"),this.dialog=!1}}},c=(r(414),r(56)),l=r(75),d=r.n(l),m=r(170),v=r(158),f=r(65),h=r(384),_=r(372),x=r(400),y=r(98),O=r(453),k=r(388),I=r(454),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{color:"success"}},n),[e._v("Add new")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",{attrs:{outlined:""}},[r("v-card-title",{staticClass:"py-3 my-1"},[e.editItemId?r("h4",[e._v("Edit article")]):r("h4",[e._v("Add article")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-icon",{staticClass:"black--text",on:{click:e.close}},[e._v("mdi mdi-close")])],1),e._v(" "),r("v-divider"),e._v(" "),r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-card-text",{staticClass:"py-2"},[r("v-text-field",{attrs:{dense:"",label:"Artikelnamn*",rules:e.nameRules,placeholder:"Artikelnamn",outlined:"",required:"",color:"#336882"},model:{value:e.editItem.artikelnamn,callback:function(t){e.$set(e.editItem,"artikelnamn",t)},expression:"editItem.artikelnamn"}}),e._v(" "),r("v-text-field",{attrs:{dense:"",label:"Produktkod",placeholder:"Produktkod",outlined:"",color:"#336882"},model:{value:e.editItem.produktkod,callback:function(t){e.$set(e.editItem,"produktkod",t)},expression:"editItem.produktkod"}}),e._v(" "),r("v-text-field",{attrs:{dense:"",label:"Pris enhet",placeholder:"Pris enhet",outlined:"",type:"nymber",color:"#336882"},model:{value:e.editItem.pris_enhet,callback:function(t){e.$set(e.editItem,"pris_enhet",t)},expression:"editItem.pris_enhet"}}),e._v(" "),r("v-select",{attrs:{items:e.Unit,label:"Enhet",outlined:"",dense:"",color:"#336882"},model:{value:e.editItem.enhet,callback:function(t){e.$set(e.editItem,"enhet",t)},expression:"editItem.enhet"}}),e._v(" "),r("v-select",{attrs:{items:e.Vat,label:"Moms",outlined:"",dense:"",color:"#336882"},model:{value:e.editItem.moms,callback:function(t){e.$set(e.editItem,"moms",t)},expression:"editItem.moms"}}),e._v(" "),r("v-select",{attrs:{required:"",items:e.Kind,rules:[function(e){return!!e||"Item is required"}],label:"typ",outlined:"",dense:"",color:"#336882"},model:{value:e.editItem.typ,callback:function(t){e.$set(e.editItem,"typ",t)},expression:"editItem.typ"}})],1),e._v(" "),r("v-card-actions",{staticClass:"grey lighten-3 pa-5"},[r("v-btn",{attrs:{depressed:""},on:{click:e.close}},[e._v("Close")]),e._v(" "),r("v-spacer"),e._v(" "),e.editItemId?r("v-btn",{attrs:{depressed:"",color:"success",disabled:!e.valid},on:{click:e.updateArticle}},[e._v("Update")]):r("v-btn",{attrs:{color:"success",depressed:"",disabled:!e.valid},on:{click:e.saveArticle}},[e._v("Save")])],1)],1)],1)],1)}),[],!1,null,"49989e3f",null);t.a=component.exports;d()(component,{VBtn:m.a,VCard:v.a,VCardActions:f.a,VCardText:f.c,VCardTitle:f.d,VDialog:h.a,VDivider:_.a,VForm:x.a,VIcon:y.a,VSelect:O.a,VSpacer:k.a,VTextField:I.a})},712:function(e,t,r){"use strict";r.r(t);r(38);var n=r(14),o={middleware:"auth",layout:"admin",components:{ArticleModal:r(450).a},data:function(){return{search:"",breadCampItems:[{text:"Invoices",href:"/invoices"},{text:"Items",disabled:!0}],headers:[{text:"Product code",value:"produktkod"},{text:"Item name",value:"artikelnamn"},{text:"VAT",value:"moms"},{text:"Kind",value:"typ"},{text:"Unit",value:"enhet"},{text:"Price / unit ex VAT",value:"pris_enhet"},{text:"",value:"actions",sortable:!1}],articles:[],selectedItem:{},deleteDialog:!1,editDialogState:!1}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getArticles();case 1:case"end":return t.stop()}}),t)})))()},methods:{getArticles:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("/articlepatterns/").then((function(t){e.articles=t.data}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},reset:function(){this.editDialogState=!1,this.selectedItem={}},getItem:function(e){Object.assign(this.selectedItem,e)},deleteItem:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.deleteDialog=!1,t.next=4,e.$axios.$delete("/articlepatterns/".concat(e.selectedItem._id)).then((function(t){Object.assign(e.selectedItem,{}),e.getArticles()}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},c=r(56),l=r(75),d=r.n(l),m=r(405),v=r(170),f=r(158),h=r(65),_=r(420),x=r(710),y=r(384),O=r(372),k=r(98),I=r(700),j=r(160),w=r(99),V=r(44),D=r(373),$=r(421),C=r(388),P=r(454),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-breadcrumbs",{staticClass:"pa-0 ma-0",attrs:{items:e.breadCampItems}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"12"}},[r("v-row",{staticClass:"pa-4"},[r("h1",{staticClass:"title"},[e._v("Articles")]),e._v(" "),r("v-spacer"),e._v(" "),r("ArticleModal",{attrs:{editItemObject:e.selectedItem,editItemId:e.selectedItem._id,edit:e.editDialogState},on:{closed:function(t){return e.reset()},updated:function(t){return e.getArticles()}}})],1)],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"12"}},[r("v-card",{staticClass:"pa-5",attrs:{outlined:"",tile:""}},[r("v-row",[r("v-spacer"),e._v(" "),r("v-col",{attrs:{cols:"12",md:"5"}},[r("v-text-field",{staticClass:"pa-4 pb-1",attrs:{"append-icon":"mdi-magnify",label:"Search",solo:"",dense:"",color:"#336882"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),e._v(" "),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[r("v-card",[r("v-card-title",[r("h4",[e._v("Delete Items")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-icon",{staticClass:"black--text",on:{click:function(t){e.deleteDialog=!1}}},[e._v("mdi mdi-close")])],1),e._v(" "),r("v-divider"),e._v(" "),r("v-card-text",{staticClass:"pa-5 text-center text-primary"},[e._v("Are you sure you want to delete this item?")]),e._v(" "),r("v-card-actions",{staticClass:"grey lighten-3 pa-5"},[r("v-btn",{attrs:{depressed:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v("Cancel")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{depressed:"",color:"error"},on:{click:e.deleteItem}},[e._v("Delete")])],1)],1)],1),e._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,light:"false",items:e.articles,"items-per-page":5,search:e.search},scopedSlots:e._u([{key:"item.moms",fn:function(t){var r=t.item;return[e._v(e._s(r.moms)+" %")]}},{key:"item.pris_enhet",fn:function(t){var r=t.item;return[e._v(e._s(r.pris_enhet)+" kr")]}},{key:"item.actions",fn:function(t){var n=t.item;return[r("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{small:"",outlined:""}},n),[r("v-icon",{staticClass:"font1"},[e._v("mdi mdi-dots-horizontal")])],1)]}}],null,!0)},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:function(t){e.getItem(n),e.editDialogState=!0}}},[r("v-list-item-title",[e._v("Edit")])],1),e._v(" "),r("v-list-item",{on:{click:function(t){e.deleteDialog=!0,e.getItem(n)}}},[r("v-list-item-title",[e._v("Delete")])],1)],1)],1)]}},{key:"no-data",fn:function(){return[e._v("NO DATA AVILABLE")]},proxy:!0}])})],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBreadcrumbs:m.a,VBtn:v.a,VCard:f.a,VCardActions:h.a,VCardText:h.c,VCardTitle:h.d,VCol:_.a,VDataTable:x.a,VDialog:y.a,VDivider:O.a,VIcon:k.a,VLayout:I.a,VList:j.a,VListItem:w.a,VListItemTitle:V.c,VMenu:D.a,VRow:$.a,VSpacer:C.a,VTextField:P.a})}}]);